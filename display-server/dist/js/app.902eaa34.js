(function(e){function t(t){for(var o,s,c=t[0],u=t[1],_=t[2],l=0,d=[];l<c.length;l++)s=c[l],a[s]&&d.push(a[s][0]),a[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);i&&i(t);while(d.length)d.shift()();return r.push.apply(r,_||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var _=0;_<c.length;_++)t(c[_]);var i=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"21bb":function(e,t,n){"use strict";var o=n("bcc9"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"app-container"}},[n("router-view")],1)},r=[],s={name:"app",mounted:function(){this.$store.dispatch("ACT_LOAD_UATS")}},c=s,u=(n("5c0b"),n("2877")),_=Object(u["a"])(c,a,r,!1,null,null,null),i=_.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"view-body"},[n("section",{staticClass:"hero is-primary is-bold is-fullheight"},[n("div",{staticClass:"hero-head"}),n("div",{attrs:{closs:"hero-body"}},[e._m(0),n("div",{staticClass:"has-text-centered button-box"},[n("a",{staticClass:"button is-link is-medium",on:{click:e.gotoQuery}},[e._v("Enter")])])]),e._m(1)])])},T=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container has-text-centered"},[n("h1",{staticClass:"title is-1"},[e._v("Spatial Planning Data")]),n("h2",{staticClass:"subtitle"},[e._v("Public data. Cleaned. Enhanced.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hero-foot has-text-centered"},[n("p",[e._v("2019 "),n("strong",[e._v("Spatial Planning Data")]),e._v(" developed by planners for planners.")])])}],f={computed:{currentProjects:function(){return this.$store.state.counties}},methods:{gotoQuery:function(){this.$router.push({name:"query"})}}},p=f,R=(n("21bb"),Object(u["a"])(p,d,T,!1,null,null,null)),m=R.exports,E=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-container"},[n("h1",[e._v("Welcome to Query area!")])])}],U={data:function(){return{search_field:"",selected:{},headers:[{text:"SIRUTA",value:"siruta",align:"left",sortable:!1},{text:"UAT",value:"name",align:"left",sortable:!1}]}},props:{},computed:{},methods:{},mounted:function(){}},g=U,h=Object(u["a"])(g,E,C,!1,null,"1597c35b",null),v=h.exports;o["a"].use(l["a"]);var A=new l["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:m},{path:"/query",name:"query",component:v},{path:"*",redirect:"/"}]}),b=n("2f62"),N={user_profile:{id:0,name_ro:"Alin"},current_selection:{county_index:"",county_code_auto:"",county_name_ro:"",uat_index:"",uat_siruta:"",uat_name_ro:"",uat_name_en:"",uat_pdf_path:""},counties:[{id:1,code_siruta:"332",name_en:"Suceava",name_ro:"Suceava",code_auto:"SV",area_km2:8553,main_uat_siruta:"146263",mair_uat_name_en:"Suceava",main_uat_name_ro:"Suceava",logo:"/RO_judet_stema/RO_stema_SV.png",uat:[]},{id:2,code_siruta:"314",name_en:"Salaj",name_ro:"Sălaj",code_auto:"SJ",area_km2:3864,main_uat_siruta:"139704",main_uat_name_en:"Zalau",main_uat_name_ro:"Zalău",logo:"/RO_judet_stema/RO_stema_SJ.png",uat:[]},{id:3,code_siruta:"369",name_en:"Tulcea",name_ro:"Tulcea",code_auto:"TL",area_km2:8499,main_uat_siruta:"159614",main_uat_name_en:"Tulcea",main_uat_name_ro:"Tulcea",logo:"/RO_judet_stema/RO_stema_TL.png",uat:[]}]},O=n("bc3a"),S=n.n(O),y={MUT_LOAD_UATS:function(e,t){var n=t.list,o=t.index;console.log("@store: MUT_LOAD_UATS"),e.counties[o].uat=[],e.counties[o].uat=n},MUT_SET_CURRENT_COUNTY:function(e,t){console.log("@store: MUT_SET_CURRENT_COUNTY = ",t),e.current_selection.county_index=t,e.current_selection.county_code_auto=e.counties[t].code_auto,e.current_selection.county_name_ro=e.counties[t].name_ro},MUT_CLEAR_CURRENT_COUNTY:function(e){console.log("@store: MUT_CLEAR_CURRENT_COUNTY"),e.current_selection.county_index="",e.current_selection.county_code_auto="",e.current_selection.county_name_ro=""},MUT_SET_CURRENT_UAT:function(e,t){var n=e.current_selection.county_index,o=e.counties[n].uat.map(function(e){return e.code_siruta}).indexOf(t);console.log("@store: MUT_SET_CURRENT_UAT = ",t),e.current_selection.uat_siruta=t,e.current_selection.uat_index=o,e.current_selection.uat_name_ro=e.counties[n].uat[o].name_ro,e.current_selection.uat_name_en=e.counties[n].uat[o].name_en,S.a.get("/api/uat/"+t+"/pdfcreate").then(function(n){var o=n.pdf_path;console.log("@store: MUT_SET_CURRENT_UAT > Pdf file created on server: ",o),e.current_selection.uat_pdf_path="http://localhost:3333/static/"+t+".pdf#zoom=100"}).catch(function(e){e.response?(console.log("ERR data",e.response.data),console.log("ERR status",e.response.status),console.log("ERR header",e.response.headers)):e.request?console.log("ERR request",e.request):console.log("Error",e.message),console.log(e.config)})},MUT_CLEAR_CURRENT_UAT:function(e){console.log("@store: MUT_CLEAR_CURRENT_UAT");var t=e.current_selection.uat_siruta;e.current_selection.uat_siruta="",e.current_selection.uat_index="",e.current_selection.uat_name_ro="",e.current_selection.uat_name_en="",e.current_selection.uat_pdf_path="",S.a.get("/api/uat/"+t+"/pdfdelete").then(function(t){console.log("@store: MUT_CLEAR_CURRENT_UAT > Pdf file deleted on server: ",t.data),e.current_selection.uat_pdf_path=""}).catch(function(e){e.response?(console.log("ERR data",e.response.data),console.log("ERR status",e.response.status),console.log("ERR header",e.response.headers)):e.request?console.log("ERR request",e.request):console.log("Error",e.message),console.log(e.config)})}},x=(n("ac6a"),{ACT_LOAD_UATS:function(e){var t=e.commit,n=e.state;console.log("@store: ACT_LOAD_UATS");var o=n.counties;o.forEach(function(e,n){console.log("@store: county_siruta",e.code_siruta),S.a.get("/api/"+e.code_siruta+"/uat").then(function(e){return t("MUT_LOAD_UATS",{list:e.data.records,index:n})}).catch(function(e){e.response?(console.log("ERR data",e.response.records),console.log("ERR status",e.response.status),console.log("ERR header",e.response.headers)):e.request?console.log("ERR request",e.request):console.log("Error",e.message),console.log(e.config)})})},ACT_SET_CURRENT_COUNTY:function(e,t){var n=e.commit;console.log("@store: ACT_SET_CURRENT_COUNTY = ",t),n("MUT_SET_CURRENT_COUNTY",t)},ACT_CLEAR_CURRENT_COUNTY:function(e){var t=e.commit;console.log("@store: ACT_CLEAR_CURRENT_COUNTY"),t("MUT_CLEAR_CURRENT_COUNTY")},ACT_SET_CURRENT_UAT:function(e,t){var n=e.commit;console.log("@store: ACT_SET_CURRENT_UAT = ",t),n("MUT_SET_CURRENT_UAT",t)},ACT_CLEAR_CURRENT_UAT:function(e){var t=e.commit;console.log("@store: ACT_CLEAR_CURRENT_UAT"),t("MUT_CLEAR_CURRENT_UAT")},ACT_CLEAR_CURRENT_SELECTION:function(e){var t=e.commit;console.log("@store: ACT_CLEAR_CURRENT_SELECTION"),t("MUT_CLEAR_CURRENT_UAT"),t("MUT_CLEAR_CURRENT_COUNTY")}}),L={get_auto_codes:function(e){return console.log("@store: get_auto_codes"),e.counties.map(function(e){return e.code_auto})}};o["a"].use(b["a"]);var M=new b["a"].Store({state:N,mutations:y,actions:x,getters:L});n("92c6");o["a"].config.productionTip=!1,new o["a"]({router:A,store:M,render:function(e){return e(i)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(e,t,n){},bcc9:function(e,t,n){}});
//# sourceMappingURL=app.902eaa34.js.map